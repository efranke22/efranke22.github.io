<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-07-21">

<title>My Reflections from USCOTS 2025 – Erin Franke</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Erin Franke</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../research.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../teaching.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-other" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Other</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-other">    
        <li>
    <a class="dropdown-item" href="../tidytuesday.html">
 <span class="dropdown-text">Tidy Tuesday</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../projects.html">
 <span class="dropdown-text">Undergrad</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="../docs/cv.pdf" title="CV" class="quarto-navigation-tool px-1" aria-label="CV"><i class="bi bi-file-person"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#liberal-arts-symposium" id="toc-liberal-arts-symposium" class="nav-link active" data-scroll-target="#liberal-arts-symposium">Liberal Arts Symposium</a>
  <ul>
  <li><a href="#life-as-a-liberal-arts-statistician-joys-and-challenges" id="toc-life-as-a-liberal-arts-statistician-joys-and-challenges" class="nav-link" data-scroll-target="#life-as-a-liberal-arts-statistician-joys-and-challenges">Life as a liberal arts statistician: joys and challenges</a></li>
  <li><a href="#authentic-assessment-with-oral-exams" id="toc-authentic-assessment-with-oral-exams" class="nav-link" data-scroll-target="#authentic-assessment-with-oral-exams">Authentic assessment with oral exams</a></li>
  <li><a href="#project-design" id="toc-project-design" class="nav-link" data-scroll-target="#project-design">Project Design</a></li>
  </ul></li>
  <li><a href="#keynotes-and-workshops" id="toc-keynotes-and-workshops" class="nav-link" data-scroll-target="#keynotes-and-workshops">Keynotes and Workshops</a>
  <ul>
  <li><a href="#doing-data-science-in-positron" id="toc-doing-data-science-in-positron" class="nav-link" data-scroll-target="#doing-data-science-in-positron">Doing data science in Positron</a></li>
  <li><a href="#a-no-bullshit-guide-to-programming-with-llms-in-r" id="toc-a-no-bullshit-guide-to-programming-with-llms-in-r" class="nav-link" data-scroll-target="#a-no-bullshit-guide-to-programming-with-llms-in-r">A no bullshit guide to programming with LLMs in R</a></li>
  <li><a href="#leveraging-llms-for-student-feedback-in-introductory-data-science-courses" id="toc-leveraging-llms-for-student-feedback-in-introductory-data-science-courses" class="nav-link" data-scroll-target="#leveraging-llms-for-student-feedback-in-introductory-data-science-courses">Leveraging LLMs for student feedback in introductory data science courses</a></li>
  <li><a href="#topics-workshops" id="toc-topics-workshops" class="nav-link" data-scroll-target="#topics-workshops">Topics Workshops</a></li>
  </ul></li>
  <li><a href="#final-reflections" id="toc-final-reflections" class="nav-link" data-scroll-target="#final-reflections">Final Reflections</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">My Reflections from USCOTS 2025</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 21, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>I’m so grateful to have had the opportunity to attend the 2025 United States Conference on Teaching Statistics (USCOTS) in Ames, Iowa! Before jumping into my general reflections, I want to thank Kelly Bodwin and the rest of team behind the <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2303612">POSE: Phase II: Expanding the data.table ecosystem for efficient big data manipulation in R</a> NSF grant for funding my trip, as well as <a href="https://www.causeweb.org/cause/about">CAUSE</a> for generously waiving the registration fee. I am also want to thank the many people that organized this conference, including Allan Rossman, Kelly McConville, Laura Ziegler, and Matt Beckman. The conference was incredibly well run and I cannot imagine how much work went it.</p>
<p>This was my first conference, and it was such a privilege to listen to talks and have discussions with many of the leaders in statistics and data science education. This was very inspiring, and also a bit overwhelming—these individuals have done so much and have so many smart and creative ideas. Both at the conference and typing up these reflections, it was hard to not feel some level of imposter syndrome—unlike the majority of attendees, I have never even taught a class! All of this is just to say, I have lots of to learn, and I feel so lucky to have gotten a chance to jumpstart that learning process by connecting with so many smart people (and am very grateful for how kind and welcoming they all were)!</p>
<section id="liberal-arts-symposium" class="level1">
<h1>Liberal Arts Symposium</h1>
<p>I think this was my favorite part of USCOTS (ok, maybe aside from the Amusing presentations which made me laugh too much), largely due to how discussion based and interactive it was. Special thanks to Alicia Johnson (yay Macalester!) and Paul Roback for organizing it! There were a few parts that especially stood out to me: Paul Roback’s talk <em>Life as a liberal arts statistician: joys and challenges</em>, and then the discussion sessions I attended: <em>Authentic assessment with oral exams</em> led by Jonathan Wells from Grinnell College and <em>Project Design</em> by Joe Roith from St.&nbsp;Olaf College. Below are some of the notes I took during the sessions; these are mostly just for me to look back on in the future.</p>
<section id="life-as-a-liberal-arts-statistician-joys-and-challenges" class="level2">
<h2 class="anchored" data-anchor-id="life-as-a-liberal-arts-statistician-joys-and-challenges">Life as a liberal arts statistician: joys and challenges</h2>
<p><strong>Ideas for success in the classroom</strong><br>
</p>
<ul>
<li>Survey the class periodically and discuss the results (both things to change and why particular aspects will remain the same) with the students<br>
</li>
<li>Learn from others, both in your department and others<br>

<ul>
<li>Sit in on classes<br>
</li>
</ul></li>
<li>Take notes after class on what worked and what didn’t for the future<br>
</li>
</ul>
<p><strong>Be active professionally</strong></p>
<ul>
<li>Pre-tenure, make strategic choices. Play the odds to get research that students can help with.<br>
</li>
<li>Post-tenure, focus on what nourishes you (e.g.&nbsp;publishing an open source textbook)<br>
</li>
<li>Collaborate with non-statistical collegues<br>
</li>
<li>Adapt research question (and timeline for undergrads)</li>
</ul>
<p><strong>Serve others</strong></p>
<ul>
<li>Jump into service early, both internally and externally<br>
</li>
<li>Be happy and proactive with “yeses”, then you can say “no” to things not as interesting to you</li>
</ul>
<p><strong>Growing a program</strong></p>
<ul>
<li>Helpful to have a customizable concentration/minor<br>
</li>
<li>Having a center for interdisciplinary research is a good way to create community and can lead to research collaborations<br>
</li>
<li>Add modern courses to curriculum (e.g.&nbsp;add a data science course and remove an advanced modeling requirement)<br>
</li>
<li>Find projects everywhere! Examples: a bagel shop running out of your favorite flavor, library checkout data</li>
</ul>
<p><strong>Many aspects are constantly changing</strong></p>
<ul>
<li>Classroom dynamics and design<br>
</li>
<li>Technology (classroom tech, programming languages)<br>
</li>
<li>Rising popularity of statistics and data science in recent years<br>
</li>
<li>Relationship with math and computer science<br>
</li>
<li>Data ethics<br>
</li>
</ul>
<p><strong>Challenges</strong></p>
<ul>
<li>Semesters are hectic<br>
</li>
<li>Salary<br>
</li>
<li>Grading<br>
</li>
<li>5% of students<br>
</li>
<li>Slow changes in academia<br>
</li>
<li>Lifelong learning can be exhausting<br>
</li>
</ul>
<p><strong>Joys</strong></p>
<ul>
<li>It usually doesn’t feel like work<br>
</li>
<li>Awesome colleagues<br>
</li>
<li>Students want to make world better<br>
</li>
<li>Creating a good learning environment<br>
</li>
<li>Constant renewal<br>
</li>
<li>Collaborating with experts in different fields<br>
</li>
<li>Taking pride in your institution<br>
</li>
<li>Lifelong learning can be exhilarating<br>
</li>
</ul>
<p><strong>Short reflection</strong>: The group I was in talked a lot about growing a program and the interaction between math, statistics, and computer science. Some people in the group were in a statistics/mathematics department separate from computer science, and mentioned this being a point of tension. Right now, when data science is so popular, it is ideal to have these departments collaborating and working together on what courses should count for credits to particular majors or minors (as well as just to maximize student learning). Having a combined department at Macalester, this was not something I’d thought about before, but it must make conversations about forming a data science major or minor, for instance, easier. Some other issues mentioned were struggle to find a form of service people find exciting, and issues with institutional financials. I hadn’t previously thought about either of these topics when thinking about a liberal arts career, so it was nice to listen to what others had to say.</p>
</section>
<section id="authentic-assessment-with-oral-exams" class="level2">
<h2 class="anchored" data-anchor-id="authentic-assessment-with-oral-exams">Authentic assessment with oral exams</h2>
<p>With students now being able to offload parts of “writing to learn” assignments (e.g.&nbsp;data analysis reports) to LLMs, many people at this conference were interested in discussing alternative forms of assessment. One option that has potential in liberal arts classrooms is oral exams. While the potential benefit of oral exams is high, the primary concern seems to be time, both for the professor and students.</p>
<p><strong>Pros</strong></p>
<ul>
<li>Personal connection between professor and student.</li>
<li>Professors having used oral exams noted they could tell level of the student’s understanding with just a couple of minutes.
<ul>
<li>Going off this, the students did not refute their score. The student could tell if they weren’t matching the professor’s expectation for level of understanding.</li>
</ul></li>
<li>Opportunity to understand the student’s misunderstandings and redirect them.
<ul>
<li>For example, if a student said, “The probability of the null being false is 95%”, you could ask a follow up question like, “Wait, can you explain a little more why that is the case?”.</li>
</ul></li>
<li>No option for student to offload thinking to LLMs.</li>
<li>Good practice for job interviews.</li>
<li>Opportunity to meet the student where they are at. For students less comfortable with the material, you can redirect and ask them different questions than a student clearly grasping the concepts.</li>
</ul>
<p><strong>Cons</strong></p>
<ul>
<li>Time. With 2-3 sections of a class with 20 students, you are trying to schedule 40-60 fifteen minute blocks. That is a lot of time out of the professor’s week, and it is also hard to find time outside of class for students with busy schedules.
<ul>
<li>Can we do paired oral exams to cut down on that?
<ul>
<li>How are students then graded as a pair? What if one partner dominates the conversation? <em>Side note</em>: in an ungrading scenario, this would not be as much of an issue and something the students could reflect on themselves after the fact.</li>
<li>Idea: Have the pair have a conversation between themselves based on a set of prompts given to them.</li>
</ul></li>
</ul></li>
<li>Student anxiety. The idea of an oral exam is daunting for many students.
<ul>
<li>Paired exams could potentially help reduce this anxiety.</li>
<li>Certain students may understand the concepts well but not be able to verbally communicate on the spot.
<ul>
<li>Alternatively, you could say that some students have test anxiety, but this is just a common form of assessment so we typically ignore this issue.</li>
</ul></li>
</ul></li>
<li>Fairness and equity: can we ensure students are evaluated the same?</li>
</ul>
<p><strong>Other notes</strong></p>
<ul>
<li>As opposed to an exam, how much material can you assess? If, for example, an exam were to cover machine learning methods such as LASSO, clustering, splines, random forests, and GAMs, are you assessing all of these methods in a 15 minute oral exam but sacrificing depth, or vice versa?</li>
<li>One professor found no correlation between student oral exam scores and test scores in a semester where they used both as modes of assessment.
<ul>
<li>I found this really interesting, and don’t think is necessarily a pro or a con, but maybe a reason to utilize multiple forms of assessment within a semester.</li>
</ul></li>
</ul>
</section>
<section id="project-design" class="level2">
<h2 class="anchored" data-anchor-id="project-design">Project Design</h2>
<p>In this discussion, we covered some ideas make sure students are getting the most they can out of class projects.</p>
<p><strong>Project setup</strong></p>
<ul>
<li>Providing a sample report: should we or should we not?
<ul>
<li>Useful so that students understand expectations, but they may follow a sample report too closely and not build their own writing style.</li>
<li>Idea: provide a report with several flaws, and take class time to critique the report and discuss potential changes.</li>
</ul></li>
<li>Peer reviews: tell students it is not a time to be “MN nice”. Give honest feedback to help your classmate get a better grade.</li>
<li>For group projects, have formal meetings with each project group to discuss next modeling steps, what is going well or what they are struggling with, etc.
<ul>
<li><em>Personal note</em>: I think effectively communicating what I have done and have questions on in an organized matter in a one-on-one meeting was one of the things I struggled with transitioning out of undergrad (both working at Mayo Clinic and starting research in my PhD). Maybe this could help prepare students for that.</li>
</ul></li>
</ul>
<p><strong>Project Ideas</strong></p>
<ul>
<li>Class time activity: story boarding with data. Have students introduce an idea, most important aspects from EDA, conflict/main characters.
<ul>
<li>Students don’t necessarily have to even have data, just have them sketch and type of plot that they might expect.</li>
<li>Have them decide on an ideal storyboard: this is a good way to get them to think about the project workflow and communicating big ideas (perhaps to a nonstatistical audience too).</li>
</ul></li>
<li>Podcast (~10 minutes) where you encourage students to write a script (so they think through what they will say) and the verbally communicate their findings with a partner.
<ul>
<li>Have students send pdf of visualizations that they talk about.</li>
<li>One professor found a student that didn’t typically participate in class was great at this.</li>
</ul></li>
</ul>
</section>
</section>
<section id="keynotes-and-workshops" class="level1">
<h1>Keynotes and Workshops</h1>
<p>Following the rest the liberal arts symposium, it was great to attend a variety of workshops and keynote presentations. Below are some of my notes and reflections on a few of them.</p>
<section id="doing-data-science-in-positron" class="level2">
<h2 class="anchored" data-anchor-id="doing-data-science-in-positron">Doing data science in Positron</h2>
<p><a href="https://posit-dev.github.io/positron-workshop/">This workshop</a> by Mine Cetinkaya-Rundel and Hadley Wickham a great first introduction to <strong>Positron</strong>, which I didn’t know anything about prior to this conference.</p>
<p><strong>What is it?</strong></p>
<ul>
<li>A next-generation data science IDE that feels like a fusion of RStudio and VS Code.
<ul>
<li>Happy note: RStudio is not going away!</li>
</ul></li>
</ul>
<p><strong>Benefits of Positron</strong></p>
<ul>
<li>Main benefit: easily combine R and Python in one document
<ul>
<li>Personally not currently a Python user, but I know a lot of people that are and I think this could be great for classes or research where groups are using both!</li>
</ul></li>
<li>Ability to effortlessly switch between versions of R (e.g.&nbsp;R 4.3.3, 4.5.0)</li>
<li>Command palette (Ctrl/Cmd + Shift + P) makes searching for and executing commands easy</li>
<li>Easy to customize layout and split screen between files.</li>
<li>Multiple concurrent interpreter sessions, which can be a mix of different R versions, mix of R and Python sessions, or multiple instances of a single R version
<ul>
<li>Allows you to run different code while something is taking a while to run! This is awesome to me.</li>
</ul></li>
<li>Can sort your environment (e.g.&nbsp;by most recent)</li>
<li>Air: an extension that automatically formats your code nicely</li>
<li>You can <em>Preview</em> (Render) your document and it will appear in the viewer pane instead of opening in your internet browser—easy to make side by side changes</li>
<li>Area for previewing <span class="math inline">\(\LaTeX\)</span> equations</li>
<li>Easy to save and share plots</li>
</ul>
<p><strong>Other differences</strong></p>
<ul>
<li>No inline plots
<ul>
<li>Outputs to “plots” pane, which I think I agree with most people is nice because the inline plots can make your document a bit laggy.</li>
</ul></li>
<li>Run button is different/a bit smaller? Personally like the RStudio version better this is not a big deal.</li>
<li>Positron automatically updates (good, I think?)</li>
</ul>
<p><strong>Things for me to learn more about</strong></p>
<ul>
<li>rig</li>
<li>Air</li>
<li>Snippets</li>
<li>Positron Assistant</li>
</ul>
<p><strong>Overall reflections</strong></p>
<p>Very cool, also a bit overwhelming—there are just so many features. Hadley and Mine mentioned when you see someone’s RStudio, you can easily become acquainted with their setup, but Positron is completely customizable (which is mostly a pro, but can perhaps be a con in a teaching setting?). At the same time, so many of these features seem useful and Mine and Hadley did an awesome job motivating and explaining the tool. I really like the ability to continue to run smaller code jobs while another piece is running in the background. The mix of versions of R is also great. I am not sure if/when I will be fully doing my coding in Positron over RStudio, but I am excited to get more experience with it.</p>
</section>
<section id="a-no-bullshit-guide-to-programming-with-llms-in-r" class="level2">
<h2 class="anchored" data-anchor-id="a-no-bullshit-guide-to-programming-with-llms-in-r">A no bullshit guide to programming with LLMs in R</h2>
<p>This talk by Hadley Wickham introduced the <code>ellmer</code> R package, which he developed to interact with LLMs in R. As someone that enjoys the challenges and satisfaction of coding and figuring out little tricks, I don’t love the idea of offloading parts of that process to LLMs. But I know this is a part of the current reality that we live in, and can make some dreadful tasks much faster, so I wanted to listen with an open mind.</p>
<p>One of Hadley’s first motivating examples had us discuss at our table how we’d extract name and age from text data, such as the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>prompts <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"I go by Alex. 42 years on planet Earth and counting."</span>, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Hey, I'm turning 27 and my name is Jamal"</span>, </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>             <span class="st">"I'm Lei Wei and nineteen years young."</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">"My name is Brett and I'm turning the big 5-0 this year."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Clearly, this is not a simple regex expression due the mix of age being typed and numeric, names being 1-2 words, and the fact that there is no global pattern in sentence structure. I learned that this is something an LLM could do with essentially the following code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ellmer)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>chat <span class="ot">&lt;-</span> <span class="fu">chat_anthropic</span>()</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>chat<span class="sc">$</span><span class="fu">chat</span>(<span class="st">"Extract the name and age from each sentence I give you"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>chat<span class="sc">$</span><span class="fu">chat</span>(prompts[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And this essentially returned the name and age for each prompt. I am not running the code above because you do have to obtain an API Key (which according to <a href="https://ellmer.tidyverse.org/reference/chat_anthropic.html">the package</a> requires a developer account that you have to sign up and pay for, which poses its own challenges), but nonetheless this definitely caught my attention as a motivating example for LLMs. Writing regex to <em>successfully</em> get name and age from large data like this would be super difficult.</p>
<p>Hadley then went on to talk about <code>ellmer</code>’s ability to interact with external tools defined by the caller. One downfall of LLMs is that they may not know current information, such as the time of day. Defining an R function that knows the time and registering that tool with the LLM can solve that problem and allow you to answer queries like “How long ago exactly did the Chicago Cubs win the World Series?”. See <a href="https://ellmer.tidyverse.org/articles/tool-calling.html">this article</a> for more information.</p>
<p>I would assume if I were to use these tools for my research, I would want to understand how accurate they are. Hadley mentioned the <a href="https://vitals.tidyverse.org/">vitals</a> package which I will have to look at more if/when I work with any of these LLMs in R.</p>
<p>More interesting to me right now is the conversation around the pros and cons of using these tools, and also the impact they may have in education. These are the following things I caught from Hadley’s talk:</p>
<p><strong>Pros</strong></p>
<ul>
<li>LLMs are amazing for quickly generating demos, shiny apps, example data
<ul>
<li>Hadley showed an example of a rough sketch of a histogram, which he fed to Positron Assistant and told it to create a Shiny app using the Palmer Penguins data.
<ul>
<li>This worked… which was kind of frightening to me. At the same time it is cool because you get this base Shiny app code working right away (often the most frustrating part) and can go on to make modifications to your preference.</li>
</ul></li>
</ul></li>
<li>Good at translations (e.g.&nbsp;latex <span class="math inline">\(\rightarrow\)</span> quarto, R code <span class="math inline">\(\rightarrow\)</span> stan, SQL <span class="math inline">\(\rightarrow\)</span> <code>dplyr</code>, json <span class="math inline">\(\rightarrow\)</span> to unit tests)
<ul>
<li>All I could think about was how many hours of my life I could saved instead of translating code from SAS to R at Mayo Clinic by hand…🥲
<ul>
<li>While honestly this task was miserable to me, it was a big part of my job, and it definitely makes me scared for me entry level stats/data science positions which are places where people learn lots and gain skills that allow them to learn and move up in the field (or better understand what type of career they want).</li>
</ul></li>
</ul></li>
<li>Explaining and critiquing code</li>
</ul>
<p><strong>Cons/concerns</strong></p>
<ul>
<li>Cost and equity of access: These tools do cost money, even if not that much. According to Hadley, $5 on Claude can get you pretty far and Gemini has a generous free tier.</li>
<li>Environmental concerns: Hadley implied these are worth considering but small and decreasing on the individual level, and that flying to this conference, for example, is a much more detrimental environmental impact.
<ul>
<li>I am sure that is true, but I just can’t help to think about the overarching impact if <em>millions and millions</em> of people are using these tools on a daily basis. This isn’t going to be a no impact situation.</li>
</ul></li>
<li>Data privacy: a definite concern on the individual level. Not a problem for most bigger organizations as most data already lives in some cloud, and cloud providers run LLMs.</li>
<li>Replacing artists: a definite risk at societal level. Hadley mentioned he is trying to supplement, not replace.</li>
<li>Evil billionaires: we are just giving more money to evil tech people…there weren’t really any ideas for how to get around that.</li>
</ul>
<p>So at the end of this I wasn’t really sure what to think. It was slightly encouraging to hear Hadley mention that there are many drawbacks of LLMs and in many ways coding is still a useful tool (e.g.&nbsp;making small changes, thinking critically, programming can still be faster than asking LLMs to do stuff for you), but in many ways, these tools make me feel bleh, and I think a lot more discussion about the place of these tools in statistics research and education is needed.</p>
</section>
<section id="leveraging-llms-for-student-feedback-in-introductory-data-science-courses" class="level2">
<h2 class="anchored" data-anchor-id="leveraging-llms-for-student-feedback-in-introductory-data-science-courses">Leveraging LLMs for student feedback in introductory data science courses</h2>
<p>After Hadley’s talk I went right into another LLM talk by Mine Cetinkaya-Rundel, which covered leveraging LLMs for student feedback in STA 199, an introductory data science and statistical thinking course at Duke (no prerequistes). The class had two exams (20% each), but the largest component of the student grade was once weekly lab assignments graded for accuracy (35%).</p>
<p><strong>AI policy for class</strong></p>
<ul>
<li>Students could use AI tools but must explicitly cite them, and the prompt could not be copied and pasted directly from the assignment (the students had to create the prompt themselves).</li>
<li>Students were <em>not</em> allowed to copy and paste the AI narrative verbatim to answer questions.</li>
<li>Students were welcome to ask AI questions to enhance their learning and understanding.</li>
</ul>
<p><strong>Project 1</strong></p>
<ul>
<li><strong>Goal</strong>: A chatbot that hopefully generates good, helpful, and correct answers that come from course content and prefers terminology/methods taught in the course.</li>
<li>Two motivating reasons for this
<ul>
<li>Students don’t read previous questions on online forums that their classmates have asked, even if the instructor asks them to do this before posting.</li>
<li>ChatGPT usually dosen’t generate answers in line with course content (for example, may give a base R response when tidyverse is taught).</li>
</ul></li>
<li>Technical details
<ul>
<li>Uses Retrevial Augmented Generation (RAG) to focus chatbot on course content and give it context. The chatbot gives the student direction to specific pages of interest in the course textbooks.
<ul>
<li>This is accomplished through combining semantic similarity and knowledge graph searches.</li>
</ul></li>
</ul></li>
<li>SQL database of student results (completely anonymized to professor)
<ul>
<li>Some good interactions, some copy-and-paste directly from assignment, some “fix my code” questions.
<ul>
<li>Evidence that the AI policy was a bit too optimistic</li>
</ul></li>
<li>Cannot say the majority of answers it gives is better than other LLMs, but no credit card and the fact that it points to course materials are both pluses.</li>
</ul></li>
<li>A kind of sad question: Is the chatbot to read from textbook more motivating to the student than the professor telling them they should? Unknown.</li>
</ul>
<p><strong>Project 2</strong></p>
<ul>
<li><strong>Goal</strong>: A feedback chatbot that hopefully generates good, helpful, and correct feedback based on an instructor designed rubric and suggests terminology/methods taught in the course.</li>
<li>Motivating reasons
<ul>
<li>Students use AI tools as a first step before thinking about how to approach the task.
<ul>
<li>A chatbot could be like a friend in the classroom that you turn to for helping thinking through a problem.</li>
<li>But also, if it gives them code to run and it works, no thinking will happen. See Microsoft study <a href="https://www.microsoft.com/en-us/research/publication/the-impact-of-generative-ai-on-critical-thinking-self-reported-reductions-in-cognitive-effort-and-confidence-effects-from-a-survey-of-knowledge-workers/">The Impact of Generative AI on Critical Thinking</a>.</li>
</ul></li>
<li>Maybe AI can help TAs redistribute their time toward higher value and more enjoyable touch points with students, and away from repetitive and error-prone tasks which often go unread (giving feedback).</li>
<li>TAs don’t want to provide detailed feedback to answers generated with AI (not that everyone is doing their hw with AI, but some students are)</li>
<li>If very detailed rubrics are already being written to ensure grading equivalency across TAs, it is easy to hand these to LLMs.</li>
</ul></li>
</ul>
<p><strong>Activity and Thoughts</strong></p>
<p>We then went into an activity where we prompted an LLM (ChatGPT) with the question and the student response and asked it to give feedback. The feedback was very verbose, and commented on several things not part of the question (e.g.&nbsp;the year column is a character, it should be numeric). All of this was technically true, but perhaps not the main point of the question. With a rubric and telling it to be to the point, it was better, but still a lot to parse through for a fairly simple question (which was a pivot longer essentially).</p>
<p>We had the following thoughts at my table:</p>
<ul>
<li>Should we be giving feedback on things not part of the question?
<ul>
<li>On a similar note, the LLM might comment on small things that do not matter, making it difficult for the student to identify important concepts from small ones</li>
</ul></li>
<li>For a topic I am fairly comfortable with, the more feedback there is, the less likely I am going to be to read it (personally). LLMs just seem way to verbose to me.
<ul>
<li>Can we ask students to fill out a form about what type of feedback they prefer? Do they want the “compliment sandwich”, or just straight to the point what is wrong? Is an LLM even capable of being straight to the point?</li>
</ul></li>
<li>I think we are assuming that goal of the LLM giving feedback that aligns with what is taught in the course is met, otherwise this would be an issue (e.g.&nbsp;the LLM says to use <code>names_transform</code> in pivot longer when in the course teaches students to modify names in a <code>mutate</code> statement).</li>
<li>I could have misunderstood, but the start of the session, a point was made about using these LLMs for feedback, not grading. If the TAs are still grading, is the amount of time saved by the TAs in not providing feedback worth the faults that come with using an LLM? Does the grading align with the feedback?</li>
</ul>
<p>While I personally wouldn’t be ready to use LLMs for feedback if I was teaching, I am generally interested to learn more about how this evolves. The idea itself kind of blew my mind, and I think it could be quite useful (particularly for low stakes assignments in courses with hundreds of students). Mine mentioned that a few of the next steps were to continue model evaluation (e.g.&nbsp;cost, speed, accuracy) and tradeoffs as new LLMs are released, and to measure learning outcomes for students using the LLM feedback to understand the effectiveness of this approach.</p>
</section>
<section id="topics-workshops" class="level2">
<h2 class="anchored" data-anchor-id="topics-workshops">Topics Workshops</h2>
<p>Two other breakout sessions I attended were Jo Hardin and Nick Horton’s <strong>Leveraging data technologies to model bigger datasets</strong> and Paul Roback and Laura Boehm Vock’s <strong>Integrating Poisson regression into the undergraduate curriculum</strong>. Both of these were great! Personally I was not familiar with SQL and DuckDB together prior to the workshop, so it was fun to learn something new that could be really helpful when working with large data/databases. In the other workshop, I really liked the way Paul and Laura explained Poisson regression visually and with very minimal math. If I am able to co-instruct/instruct the CMU REU program at some point, I think it would be fun to have a couple sessions on a portion of the materials from both of these workshops.</p>
</section>
</section>
<section id="final-reflections" class="level1">
<h1>Final Reflections</h1>
<p>Again, in some ways I feel silly writing this long reflection because I don’t have much experience and am quite a ways off from fully teaching a class. But in the spirit of “writing to learn”, writing and thinking back on all these sessions was helpful to process and reflect on some of what I learned and I think it will be helpful to look back on this later on :)</p>
<p>This was an amazing first conference and I am very grateful to have gotten a chance to connect with and learn from many smart, very kind, and passionate people. Special thanks to Peter Freeman and Ron Yurko for being so supportive and kind throughout the conference :) It was also a great experience to present and get feedback on my work with <a href="https://scolando.github.io/">Sara Colando</a> at the Research Satellite and Posters and Beyond. Overall, I am feeling pretty confident that I want to try out a career teaching at a liberal arts college. Seeing all the cool things people are doing and ideas they have was very motivating for me to work hard on classes, research, and TA duties, so that one day I can maybe contribute a little bit in these conversations as well.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Erin Franke, 2025 <br> All content licensed under <i class="bi-badge-cc"></i> <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">(CC BY-NC-SA 4.0)</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Site built with <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>